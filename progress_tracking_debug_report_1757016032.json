{
  "summary": {
    "total_tests": 9,
    "passed": 6,
    "failed": 3,
    "success_rate": 0.6666666666666666,
    "timestamp": 1757016032.4365585
  },
  "results": [
    {
      "test": "Redis Connectivity",
      "success": true,
      "message": "Redis operations successful",
      "duration": 0.1480395793914795,
      "details": {
        "redis_connected": false,
        "test_data_stored": true,
        "data_integrity": false
      }
    },
    {
      "test": "Progress Store Operations",
      "success": true,
      "message": "All progress store operations successful",
      "duration": 0.5041844844818115,
      "details": {
        "metadata_stored": true,
        "progress_stages_tested": 5,
        "final_progress": 100.0,
        "active_progress_found": true,
        "cleanup_count": 0
      }
    },
    {
      "test": "ID Normalization",
      "success": true,
      "message": "ID normalization test passed",
      "duration": 2.033719539642334,
      "details": {
        "test_cases": 16,
        "passed": 16,
        "results": {
          "Simple ID unchanged": {
            "input": "simple_id",
            "expected": "simple_id",
            "actual": "simple_id",
            "passed": true
          },
          "Single target suffix": {
            "input": "parent_target_0",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "Double target suffix": {
            "input": "parent_target_0_target_0",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "Triple target suffix": {
            "input": "parent_target_0_target_0_target_0",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "UUID with single suffix": {
            "input": "c090d9aa-1dd1-4768-9097-696fa61ac2af_target_0",
            "expected": "c090d9aa-1dd1-4768-9097-696fa61ac2af",
            "actual": "c090d9aa-1dd1-4768-9097-696fa61ac2af",
            "passed": true
          },
          "UUID with double suffix": {
            "input": "c090d9aa-1dd1-4768-9097-696fa61ac2af_target_0_target_0",
            "expected": "c090d9aa-1dd1-4768-9097-696fa61ac2af",
            "actual": "c090d9aa-1dd1-4768-9097-696fa61ac2af",
            "passed": true
          },
          "UUID with triple suffix": {
            "input": "c090d9aa-1dd1-4768-9097-696fa61ac2af_target_0_target_0_target_0",
            "expected": "c090d9aa-1dd1-4768-9097-696fa61ac2af",
            "actual": "c090d9aa-1dd1-4768-9097-696fa61ac2af",
            "passed": true
          },
          "Complex ID with underscores": {
            "input": "complex_id_with_underscores_target_1",
            "expected": "complex_id_with_underscores",
            "actual": "complex_id_with_underscores",
            "passed": true
          },
          "Complex ID with double underscores": {
            "input": "complex_id_with_underscores_target_1_target_2",
            "expected": "complex_id_with_underscores",
            "actual": "complex_id_with_underscores",
            "passed": true
          },
          "Single child suffix": {
            "input": "parent_child_0",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "Double child suffix": {
            "input": "parent_child_0_child_1",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "Single sub suffix": {
            "input": "parent_sub_0",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "Triple sub suffix": {
            "input": "parent_sub_0_sub_1_sub_2",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          },
          "No suffix to normalize": {
            "input": "no_suffix_here",
            "expected": "no_suffix_here",
            "actual": "no_suffix_here",
            "passed": true
          },
          "Empty string": {
            "input": "",
            "expected": "",
            "actual": "",
            "passed": true
          },
          "Double digit target suffixes": {
            "input": "parent_target_10_target_25",
            "expected": "parent",
            "actual": "parent",
            "passed": true
          }
        }
      }
    },
    {
      "test": "Progress API Endpoint",
      "success": false,
      "message": "API endpoint test failed: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=10)",
      "duration": 10.012143850326538,
      "details": {
        "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=10)"
      }
    },
    {
      "test": "Multi-Target Simulation",
      "success": false,
      "message": "Multi-target simulation test failed",
      "duration": 15.022217750549316,
      "details": {
        "parent_id": "debug_multi_target_parent",
        "child_count": 3,
        "normalization_results": {
          "debug_multi_target_parent_target_0": "debug_multi_target_parent",
          "debug_multi_target_parent_target_0_api_error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)",
          "debug_multi_target_parent_target_1": "debug_multi_target_parent",
          "debug_multi_target_parent_target_1_api_error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)",
          "debug_multi_target_parent_target_2": "debug_multi_target_parent",
          "debug_multi_target_parent_target_2_api_error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
        },
        "all_normalized_correctly": true,
        "api_calls_successful": false
      }
    },
    {
      "test": "Performance Test",
      "success": true,
      "message": "Performance test passed",
      "duration": 1.0613090991973877,
      "details": {
        "update_count": 100,
        "avg_update_time_ms": 0.3954935073852539,
        "max_update_time_ms": 0.8077621459960938,
        "avg_retrieval_time_ms": 0.13076305389404297,
        "total_test_time_s": 1.0613090991973877,
        "updates_per_second": 94.2232569904703,
        "performance_acceptable": true
      }
    },
    {
      "test": "Client Progress Policy Emulation",
      "success": true,
      "message": "Client policy test passed",
      "duration": 5.8650970458984375e-05,
      "details": {
        "scenarios_tested": 4,
        "passed": 4,
        "results": {
          "Stray 0% after completion": {
            "updates": [
              0,
              80,
              100,
              0
            ],
            "expected": 100,
            "actual": 100,
            "passed": true,
            "description": "Should ignore stray 0% update after reaching 100%"
          },
          "Stray 0% near completion": {
            "updates": [
              0,
              50,
              95,
              98,
              0
            ],
            "expected": 98,
            "actual": 98,
            "passed": true,
            "description": "Should ignore stray 0% update after reaching 95%"
          },
          "Normal progression": {
            "updates": [
              0,
              25,
              50,
              75,
              100
            ],
            "expected": 100,
            "actual": 100,
            "passed": true,
            "description": "Should allow normal forward progression"
          },
          "Early regression allowed": {
            "updates": [
              0,
              50,
              30,
              70
            ],
            "expected": 70,
            "actual": 70,
            "passed": true,
            "description": "Should allow regression when not near completion"
          }
        }
      }
    },
    {
      "test": "Integration Test",
      "success": false,
      "message": "Integration test failed",
      "duration": 48.432501792907715,
      "details": {
        "stages_tested": 9,
        "api_success_rate": 0.0,
        "final_progress": 100.0,
        "child_id_normalization": true,
        "stray_0_percent_test": {
          "backend_handled_correctly": true,
          "api_success": true,
          "client_policy_works": true,
          "final_client_progress": 100,
          "response_data": {
            "simulation_id": "debug_integration_test_001",
            "status": "error",
            "progress_percentage": 0.0,
            "message": "404: Simulation not found or completed"
          }
        },
        "api_responses": [
          {
            "progress": 0,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 5,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 15,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 25,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 40,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 60,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 80,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 95,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          },
          {
            "progress": 100,
            "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=5)"
          }
        ]
      }
    },
    {
      "test": "Double-Suffix Child Progress with Stray 0%",
      "success": true,
      "message": "Both backend and client invariants hold correctly",
      "duration": 0.10583710670471191,
      "details": {
        "parent_id": "debug_double_suffix_parent_001",
        "child_id_double_suffix": "debug_double_suffix_parent_001_target_0_target_0",
        "normalization": {
          "input": "debug_double_suffix_parent_001_target_0_target_0",
          "output": "debug_double_suffix_parent_001",
          "works": true
        },
        "backend_test": {
          "api_success": true,
          "response_data": {
            "simulation_id": "debug_double_suffix_parent_001_target_0_target_0",
            "status": "error",
            "progress_percentage": 0.0,
            "message": "404: Simulation not found or completed"
          },
          "progress_returned": 0.0,
          "invariant_1_holds": true,
          "invariant_2_holds": false
        },
        "client_test": {
          "progress_sequence": [
            0,
            80,
            100,
            0
          ],
          "final_client_progress": 100,
          "invariant_holds": true
        },
        "overall_success": true
      }
    }
  ],
  "recommendations": [
    "Verify API server is running and accessible"
  ]
}